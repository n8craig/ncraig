<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title>GDELT Summary Explorer API Calls in R</title>

  <meta property="description" itemprop="description" content="This post looks at submitting API calls to the Global Database of Events, Language, and Tone (GDELT) database within R. The focus is on the Summary Explorer and TV News dataset. After reviewing several methods, I conclude that the Explorer GUI is the best method to construct the request URL. From this an export URL can be constructed from the GUI and a little bit of manual editing to change the format of the request from JSON to CSV."/>

  <link rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/"/>

  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2021-12-09"/>
  <meta property="article:created" itemprop="dateCreated" content="2021-12-09"/>
  <meta name="article:author" content="Nathan Craig"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="GDELT Summary Explorer API Calls in R"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="This post looks at submitting API calls to the Global Database of Events, Language, and Tone (GDELT) database within R. The focus is on the Summary Explorer and TV News dataset. After reviewing several methods, I conclude that the Explorer GUI is the best method to construct the request URL. From this an export URL can be constructed from the GUI and a little bit of manual editing to change the format of the request from JSON to CSV."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="GDELT Summary Explorer API Calls in R"/>
  <meta property="twitter:description" content="This post looks at submitting API calls to the Global Database of Events, Language, and Tone (GDELT) database within R. The focus is on the Summary Explorer and TV News dataset. After reviewing several methods, I conclude that the Explorer GUI is the best method to construct the request URL. From this an export URL can be constructed from the GUI and a little bit of manual editing to change the format of the request from JSON to CSV."/>

  <!--/radix_placeholder_meta_tags-->
  
  <meta name="citation_reference" content="citation_title=Imagined communities: Reflections on the origin and spread of nationalism;citation_publication_date=2006;citation_publisher=Verso;citation_author=Benedict R. O’G Anderson"/>
  <meta name="citation_reference" content="citation_title=Moral panics: The social construction of deviance;citation_publication_date=2009;citation_publisher=Wiley-Blackwell;citation_author=Erich Goode;citation_author=Nachman Ben-Yehuda"/>
  <meta name="citation_reference" content="citation_title=Implementing reproducible research;citation_publication_date=2014;citation_publisher=CRC Press, Taylor &amp; Francis Group"/>
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","categories","output","link-citations","repository_url","creative_commons","draft","bibliography"]}},"value":[{"type":"character","attributes":{},"value":["GDELT Summary Explorer API Calls in R"]},{"type":"character","attributes":{},"value":["This post looks at submitting API calls to the Global Database of Events, Language, and Tone (GDELT) database within R. The focus is on the Summary Explorer and TV News dataset. After reviewing several methods, I conclude that the Explorer GUI is the best method to construct the request URL. From this an export URL can be constructed from the GUI and a little bit of manual editing to change the format of the request from JSON to CSV.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Nathan Craig"]},{"type":"character","attributes":{},"value":["https://ncraig.netlify.app/"]}]}]},{"type":"character","attributes":{},"value":["12-09-2021"]},{"type":"character","attributes":{},"value":["how-to"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","pandoc_args","df_print","toc","number_sections","code_folding"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["--number-sections"]},{"type":"character","attributes":{},"value":["paged"]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["https://github.com/n8craig/ncraig"]},{"type":"character","attributes":{},"value":["CC BY-NC"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["references.bib"]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["gdelt-summary-explorer-api-calls-in-r_files/anchor-4.2.2/anchor.min.js","gdelt-summary-explorer-api-calls-in-r_files/bowser-1.9.3/bowser.min.js","gdelt-summary-explorer-api-calls-in-r_files/distill-2.2.21/template.v2.js","gdelt-summary-explorer-api-calls-in-r_files/figure-html5/query-tv-comparison-1.png","gdelt-summary-explorer-api-calls-in-r_files/figure-html5/query-tv-comparison-plot-1.png","gdelt-summary-explorer-api-calls-in-r_files/figure-html5/query-tv-comparison-plot, layout","gdelt-summary-explorer-api-calls-in-r_files/figure-html5/query-tv-simple-plot-1.png","gdelt-summary-explorer-api-calls-in-r_files/figure-html5/read-csv-complex-plot-1.png","gdelt-summary-explorer-api-calls-in-r_files/figure-html5/read-csv-simple-plot-1.png","gdelt-summary-explorer-api-calls-in-r_files/figure-html5/unnamed-chunk-2-1.png","gdelt-summary-explorer-api-calls-in-r_files/figure-html5/unnamed-chunk-3-1.png","gdelt-summary-explorer-api-calls-in-r_files/figure-html5/unnamed-chunk-4-1.png","gdelt-summary-explorer-api-calls-in-r_files/figure-html5/unnamed-chunk-5-1.png","gdelt-summary-explorer-api-calls-in-r_files/figure-html5/unnamed-chunk-6-1.png","gdelt-summary-explorer-api-calls-in-r_files/figure-html5/unnamed-chunk-7-1.png","gdelt-summary-explorer-api-calls-in-r_files/header-attrs-2.11/header-attrs.js","gdelt-summary-explorer-api-calls-in-r_files/jquery-3.6.0/jquery-3.6.0.js","gdelt-summary-explorer-api-calls-in-r_files/jquery-3.6.0/jquery-3.6.0.min.js","gdelt-summary-explorer-api-calls-in-r_files/jquery-3.6.0/jquery-3.6.0.min.map","gdelt-summary-explorer-api-calls-in-r_files/kePrint-0.0.1/kePrint.js","gdelt-summary-explorer-api-calls-in-r_files/lightable-0.0.1/lightable.css","gdelt-summary-explorer-api-calls-in-r_files/popper-2.6.0/popper.min.js","gdelt-summary-explorer-api-calls-in-r_files/tippy-6.2.7/tippy-bundle.umd.min.js","gdelt-summary-explorer-api-calls-in-r_files/tippy-6.2.7/tippy-light-border.css","gdelt-summary-explorer-api-calls-in-r_files/tippy-6.2.7/tippy.css","gdelt-summary-explorer-api-calls-in-r_files/tippy-6.2.7/tippy.umd.min.js","gdelt-summary-explorer-api-calls-in-r_files/webcomponents-2.0.0/webcomponents.js","references.bib"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="gdelt-summary-explorer-api-calls-in-r_files/header-attrs-2.11/header-attrs.js"></script>
  <script src="gdelt-summary-explorer-api-calls-in-r_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="gdelt-summary-explorer-api-calls-in-r_files/popper-2.6.0/popper.min.js"></script>
  <link href="gdelt-summary-explorer-api-calls-in-r_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="gdelt-summary-explorer-api-calls-in-r_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="gdelt-summary-explorer-api-calls-in-r_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="gdelt-summary-explorer-api-calls-in-r_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="gdelt-summary-explorer-api-calls-in-r_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="gdelt-summary-explorer-api-calls-in-r_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="gdelt-summary-explorer-api-calls-in-r_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"GDELT Summary Explorer API Calls in R","description":"This post looks at submitting API calls to the Global Database of Events, Language, and Tone (GDELT) database within R. The focus is on the Summary Explorer and TV News dataset. After reviewing several methods, I conclude that the Explorer GUI is the best method to construct the request URL. From this an export URL can be constructed from the GUI and a little bit of manual editing to change the format of the request from JSON to CSV.","authors":[{"author":"Nathan Craig","authorURL":"https://ncraig.netlify.app/","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-12-09T00:00:00.000-07:00","citationText":"Craig, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>GDELT Summary Explorer API Calls in R</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt=tag">how-to</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>This post looks at submitting API calls to the Global Database of Events, Language, and Tone (GDELT) database within R. The focus is on the Summary Explorer and TV News dataset. After reviewing several methods, I conclude that the Explorer GUI is the best method to construct the request URL. From this an export URL can be constructed from the GUI and a little bit of manual editing to change the format of the request from JSON to CSV.</p></p>
</div>

<div class="d-byline">
  Nathan Craig <a href="https://ncraig.netlify.app/" class="uri">https://ncraig.netlify.app/</a> 
  
<br/>12-09-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction"><span class="toc-section-number">1</span> Introduction</a></li>
<li><a href="#csv-api-request-to-readrread_csv"><span class="toc-section-number">2</span> CSV API request to <code>readr::read_csv()</code></a>
<ul>
<li><a href="#determining-the-api-request-parameters"><span class="toc-section-number">2.1</span> Determining the API request parameters</a>
<ul>
<li><a href="#step-1-dataset"><span class="toc-section-number">2.1.1</span> Step 1: Dataset</a></li>
<li><a href="#step-2-output-type"><span class="toc-section-number">2.1.2</span> Step 2: Output Type</a></li>
<li><a href="#step-3-enter-search"><span class="toc-section-number">2.1.3</span> Step 3: Enter Search</a></li>
<li><a href="#step-4-displays"><span class="toc-section-number">2.1.4</span> Step 4: Displays</a></li>
<li><a href="#getting-the-link"><span class="toc-section-number">2.1.5</span> Getting the link</a></li>
<li><a href="#complex-searches"><span class="toc-section-number">2.1.6</span> Complex Searches</a></li>
<li><a href="#xxxxxxxxx-search-comparisons"><span class="toc-section-number">2.1.7</span> XXXXXXXXX Search Comparisons</a></li>
</ul></li>
</ul></li>
<li><a href="#api-request-with-newsflashquery_tv"><span class="toc-section-number">3</span> API Request with <code>newsflash::query_tv</code></a></li>
<li><a href="#api-requests-with-httr"><span class="toc-section-number">4</span> API Requests with <code>httr</code></a>
<ul>
<li><a href="#basic-api-request"><span class="toc-section-number">4.1</span> Basic API Request</a></li>
<li><a href="#api-request-with-additional-parameters"><span class="toc-section-number">4.2</span> API Request with additional parameters</a></li>
<li><a href="#request-to-gdelt-using-httr-table-embedded-in-json"><span class="toc-section-number">4.3</span> Request to GDELT using <code>httr</code>: table embedded in JSON</a></li>
</ul></li>
</ul>
</nav>
</div>
<h1 data-number="1" id="introduction"><span class="header-section-number">1</span> Introduction</h1>
<p>The Global Database of Events, Language, and Tone (<a href="https://www.gdeltproject.org/">GDELT</a>) is a big data project created by Dr. Kalev Leetaru and others. Among the many <a href="https://analysis.gdeltproject.org/">tools</a> offered by GDELT the Television Database Explorer and API is noteworthy. Figuring out how to use GDELT data can be a daunting experience and I am definately learning as I go. This page attempts to document some things I learned while digging into the Television Explorer. A key purpose to review methods for directly accessing the API within R for use in R Markdown. First, a word or two on why an anthropologist might be interested in a TV News database.</p>
<p>In May of 2021, I used GDELT to <a href="https://ncraig.netlify.app/posts/2021-05-07-critical-race-theory/">discuss</a> TV news coverage of Critical Race Theory (CRT) in response to an article in <em>The Atlantic Monthly</em>. Intriguingly, Dr. Leetaru <span class="citation" data-cites="leetaru2021 leetaru2021a">(<a href="#ref-leetaru2021" role="doc-biblioref">Leetaru 2021b</a>, <a href="#ref-leetaru2021a" role="doc-biblioref">2021a</a>)</span> included Critical Race Theory in brief news summaries from June 6 and another from November 10 of 2021. Apparently, he noticed a spike in coverage too. I cast my foray into GDELT data as an application of the “culturomics” <span class="citation" data-cites="michel2011 leetaru2011">(<a href="#ref-michel2011" role="doc-biblioref">Michel et al. 2011</a>; <a href="#ref-leetaru2011" role="doc-biblioref">Leetaru 2011</a>)</span> approach which involves the distant reading <span class="citation" data-cites="schulz2011 moretti2013">(<a href="#ref-schulz2011" role="doc-biblioref">Schulz 2011</a>; <a href="#ref-moretti2013" role="doc-biblioref">Moretti 2013</a>)</span> of large quantities of media. Print media is central to the creation of shared experiences that form the basis of “imagined communities” undergirding the nation state <span class="citation" data-cites="anderson2006a">(<a href="#ref-anderson2006a" role="doc-biblioref">Anderson 2006</a>)</span>. If print media is key to creating a shared experience, then television (which is a richer and more immerse type of media than print) should also play a similar role in fostering shared experiences and views in contemporary society.</p>
<p>In addition to creating imagined communities, media can also play an important role in the creation and spread of moral panics <span class="citation" data-cites="cohen2011 cohen2011a moralpa2013">(<a href="#ref-cohen2011" role="doc-biblioref">Cohen 2011a</a>, <a href="#ref-cohen2011a" role="doc-biblioref">2011b</a>; <a href="#ref-moralpa2013" role="doc-biblioref">Critcher et al. 2013</a>)</span>. In fact, media is a crucial ingredient in allowing moral panics to spread out of local contexts and can play a role in ranking the issue as among society’s most pressing. One might think about the creation and spread of moral panics as miniature “imagined communities” of outraged believers that operate within larger national identities. GDELT is intriguing to me because it represents a way to examine large bodies of a type of complex media that permeates our lives. We can start to systematically track what are we as a society are being presented, when, for how long, and at what intensity? I think there is quite a bit more to consider in regards to media coverage of CRT. However here in this “how to,” I want to discuss some things I learned about retrieval of GDELT TV data while trying to understand TV news coverage of CRT.</p>
<aside>
<p>Moral panic is manifest by: 1) collective action campaigns, 2) bills that criminalize the deviant behavior, 3) ranking of the issue high in the public’s hierarchy, 4) public discussion of the issue in the media <span class="citation" data-cites="goode2009">(<a href="#ref-goode2009" role="doc-biblioref">Goode and Ben-Yehuda 2009, 153</a>)</span>.</p>
</aside>
<p>Application programming interfaces are a good way to access data in the spirit of reproducible research <span class="citation" data-cites="implemen2014">(<a href="#ref-implemen2014" role="doc-biblioref">Stodden, Leisch, and Peng 2014</a>)</span>, particularly when the data are regularly updated like GDELT. In the past, I used the <a href="https://api.gdeltproject.org/api/v2/summary/summary?d=iatv&amp;t=summary">Television Explorer</a> interface, downloaded a CSV file, and worked with it on my hard drive. While I was grateful for the data, this method involved doing analysis on a static file. I would rather access the API directly, pull in the comma delimited data, and make a data frame for further processing all programmatically within an R Markdown document. Moreover, I want that request and data frame output to be able to run at some point again in the future–perhaps even updated programmatically.</p>
<p>I encountered three ways of communicating with the GDELT API inside R. Each has its own strengths and weaknesses. The three ways are:</p>
<ul>
<li><code>reader::read_csv</code> permits finer control over parameters but takes some setting up. Though it involves manually editing long URLs, I find <code>read_csv</code> the preferred method.</li>
<li><code>newsflash::query_tv</code> is the simplest and fastest method. If monthly resolution data are suitable this may be a simple turnkey solution for some applications.</li>
<li><code>httr</code> and <code>jsonlite</code> will pull the data in JSON format with lots of ancillary information. I can also get back results from a CSV request. However, pulling out the desired product looks a bit daunting. Compared to <code>read_csv</code>, the <code>httr</code> and <code>jsonlite</code> method seem to involve several unnecessary steps.</li>
</ul>
<p>Below I illustrate each of these three methods discussing the strengths and weaknesses. I focus on <code>read_csv()</code> because I believe it the best method for my purposes. Let’s call our libraries and get into it.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/hrbrmstr/newsflash'>newsflash</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://httr.r-lib.org/'>httr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://arxiv.org/abs/1403.2805'>jsonlite</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://patchwork.data-imaginist.com'>patchwork</a></span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<h1 data-number="2" id="csv-api-request-to-readrread_csv"><span class="header-section-number">2</span> CSV API request to <code>readr::read_csv()</code></h1>
<p>One of the GDELT 2.0 TV News API’s six output <a href="https://blog.gdeltproject.org/gdelt-2-0-television-api-debuts/">formats</a> is CSV. When an API request is made with <code>format=csv</code> the browser returns a CSV file. Therefore, a properly constructed GDELT TV News API request URL can be passed directly to <code>read_csv()</code> and the function will create a data frame. It is super simple, really that’s it. Let’s look at how to construct a request URL using the Explorer GUI and show how to set the output format to CSV. Then we’ll be ready to drop that URL into a <code>read_csv()</code> call.</p>
<h2 data-number="2.1" id="determining-the-api-request-parameters"><span class="header-section-number">2.1</span> Determining the API request parameters</h2>
<p>GDELT 2.0 TV News API has a fair number of options; some really must be understood to proceed forward. The Explorer Summary search page is broken into a series of steps. I walk through these and discuss each in turn.</p>
<h3 data-number="2.1.1" id="step-1-dataset"><span class="header-section-number">2.1.1</span> Step 1: Dataset</h3>
<p>The <a href="https://api.gdeltproject.org/api/v2/summary/summary?d=iatv&amp;t=summary">Explorer</a> GUI lets users choose among 5 different data sets:</p>
<ul>
<li><strong>Global Online News Coverage</strong>: Online textual news sources along with some images.</li>
<li><strong>Television News (Internet Archive)</strong>: Full text search of complete raw closed captioning stream. See more <a href="https://blog.gdeltproject.org/gdelt-2-0-television-api-debuts/">here</a>.</li>
<li><strong>Television News AI (Internet Archive)</strong>: Searches on visual entities, caption entities, automated speech recognition (ASR), caption keywords, and OCR of onscreen text. See more <a href="https://blog.gdeltproject.org/television-2-0-ai-api-debuts/">here</a>.</li>
<li><strong>Chyron Explorer (Internet Archive)</strong>: Search the Internet Archive’s “<a href="https://archive.org/services/third-eye.php">Third Eye</a>” OCR stream.</li>
<li><strong>Chyron Browser</strong>: Visual summaries of chyron text overlays for a specified date.</li>
</ul>
<p>Once the desired data set is selected, the Explorer GUI refreshes and the search fields change. Though the API request structure is similar across the five data sets, each is slightly different because the data being queried are either from different news sources (written, TV closed captions, TV chyrons) or are the same data sources processed in different ways (TV closed captions vs. AI). Knowing which data set one is working with is a key step to successfully using the Explorer GUI and getting a properly structured request URL. Here I discuss parameters related to the TV News data set.</p>
<p>To the far right, in the section where it says “Enter Search” there is an blue “i” info button. Clicking this reveals hidden text that explains more about the data structure and how to construct searches. Each parameter has its own info button. Reading these entries carefully and consulting them frequently is useful for grasping the details of the search process.</p>
<blockquote>
<p><strong>Note:</strong> The “i” buttons may not work properly in Firefox. They work in Chrome.</p>
</blockquote>
<aside>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/include_graphics.html'>include_graphics</a></span><span class='op'>(</span><span class='st'>"https://i.imgur.com/L7r3FwI.png"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="https://i.imgur.com/L7r3FwI.png" /><!-- --></p>
</div>
</aside>
<h3 data-number="2.1.2" id="step-2-output-type"><span class="header-section-number">2.1.2</span> Step 2: Output Type</h3>
<p>One must choose to display results of a single query as a “Summery Overview Dashboard” or a comparison of multiple queries as a “Comparison Visualization.” Both types of output are useful and work in similar ways. Here, I discuss single query “Summery Overview Dashboard” results.</p>
<h3 data-number="2.1.3" id="step-3-enter-search"><span class="header-section-number">2.1.3</span> Step 3: Enter Search</h3>
<p>Many big decisions are made in this section including the search term and several important parameters. Below are some thoughts on the search syntax and key parameters for the TV News data set:</p>
<ul>
<li><p><strong>Keyword</strong>: This is the most complex field and is where the search term is constructed. Be sure to read the blue info button. There is also a tutorial <a href="https://www.youtube.com/watch?v=PH-5BV-xwpc&amp;t=3s">video</a> that walks through some more complex search examples. Below are some search syntax rules:</p>
<ul>
<li>Only exact keywords are matched. Eg. a search on <code>russia</code> <strong>will not</strong> return results for “russian” or “russians.”</li>
<li>Groups of OR’d terms can be enclosed in parentheses. Eg. <code>(russia OR russian OR russians)</code> searches all three terms.</li>
<li>Phrases are enclosed in quotes and may be as long as five terms. Eg. <code>"critical race theory"</code></li>
<li>Place a <code>-</code> in front of terms or phrases to exclude these from searches. Eg. <code>education -"critical race theory"</code> returns clips containing education that do not also mention “critical race theory.”</li>
<li>Search terms are not translated. Therefore, words are language specific.</li>
<li>It is possible to search for terms that might be in adjacent 15 second clips using the context operator. Eg. <code>clinton (context:"email" OR context:"emails" OR context:"server")</code> returns all clips that contain clinton and which also contain either “email,” “emails,” or “server” either in the same or adjacent clips.</li>
</ul></li>
<li><p><strong>Time Period</strong>: I generally request the entire time period. It can be filtered later in R.</p></li>
<li><p><strong>Stations</strong>: This defaults to CNN, Fox, and MSNBC. For US news, I select all of the stations listed under <code>Active National</code>. There is also an optional <code>market</code> parameter that one can use, but calling it involves manually deleting the stations and replacing them with <code>market=national</code>. I am not aware of a way to do this via the GUI.</p></li>
<li><p><strong>Combine/Separate</strong>: One must choose whether values are Separate Stations with Multiple Timelines or Combine Stations for a Single Timeline. I am often interested in comparing values between stations and thus select Separate Stations for Multiple Timelines. If one is interested in the total volume of coverage on a given topic, then select Combine Stations to generate a Single Timeline. One can even envision a scenario where the same term might be searched both combined and single to see what portion of total coverage each individual station is responsible for.</p></li>
<li><p><strong>Normalized</strong>: If the plan is to make comparisons between stations or search terms, the data should be normalized.</p></li>
<li><p><strong>Date Resolution</strong>: Here one can set the units of time for which data are reported. If Time Period &lt;7 days the Date Resolution defaults to hourly. If Time Period &lt;3 years the Default Date resolution is daily, and when Time Period &gt;3 years the default Date Resolution is monthly. These defaults can be overridden. I generally request daily resolution.</p></li>
<li><p><strong>Time Zone</strong>: The default is UTC. I personally do not change this, and believe it only has relevance when working with hourly Date Resolution data.</p></li>
<li><p><strong>Smoothing</strong>: The default is No Smoothing. I personally do not change this.</p></li>
</ul>
<h3 data-number="2.1.4" id="step-4-displays"><span class="header-section-number">2.1.4</span> Step 4: Displays</h3>
<p>Since the aim here is to obtain a data frame, the display parameters might not seem that important. However, by turning these settings on one can get a quick check on the search and also have a fuller sense of what was returned. For example, it can be informative to watch a couple of clips or review some of the visualizations. I recommend including zoomable timelines and including all displays possible. Note that for me the Google Trends Timeline does not function so I often turn it off.</p>
<h3 data-number="2.1.5" id="getting-the-link"><span class="header-section-number">2.1.5</span> Getting the link</h3>
<p>Once search parameters are determined it is time to generate an export URL. Below are the steps I use to get a request URL to pass to <code>read_csv</code>:</p>
<ul>
<li>Using the GDELT Summary <a href="https://api.gdeltproject.org/api/v2/summary/summary?">Explorer</a> GUI set the search terms and execute a search. This returns a web page in a new browser tab. Eg. Here is the search <a href="https://api.gdeltproject.org/api/v2/summary/summary?d=iatv&amp;t=summary&amp;k=%22critical+race+theory%22&amp;ts=full&amp;fs=station%3ACNN&amp;fs=station%3AFOXNEWS&amp;fs=station%3AMSNBC&amp;svt=zoom&amp;svts=zoom&amp;swvt=zoom&amp;ssc=yes&amp;sshc=yes&amp;swc=yes&amp;stcl=yes&amp;c=1">summary</a> for “critical race theory.”</li>
<li>Check the results page noting the “Data Source” and “Human Summary” fields to confirm that the desired search was submitted. If the search is not correct, modify and resubmit.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/include_graphics.html'>include_graphics</a></span><span class='op'>(</span><span class='st'>"https://i.imgur.com/7kglrgi.png"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="https://i.imgur.com/7kglrgi.png" /><!-- --></p>
</div>
<ul>
<li>If the desired search was submitted, then copy the URL to a text document for future use. <em>This is the permanent URL for this particular search and should be used when communicating results.</em> Dr. Leetaru uses links to the summary page as a reference when writing on the web. I follow that convention.</li>
<li>In the search results that are returned in the new page, find the “Export” hamburger menu and select “Save data as JSON.” This selection also returns a new web page in a new tab.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/include_graphics.html'>include_graphics</a></span><span class='op'>(</span><span class='st'>"https://i.imgur.com/rhgtoa1.png"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="https://i.imgur.com/rhgtoa1.png" /><!-- --></p>
</div>
<ul>
<li>In that new tab, copy the URL and paste it into a text document (like an R Markdown file).</li>
<li>Change the format variable of the URL from <code>format=json</code> to <code>format=csv</code>.</li>
<li>Once the format parameter is changed, paste the modified URL into a <code>read_csv()</code> call. This will return the desired CSV file, which is read with <code>read_csv()</code>, and can be assigned to a variable like <code>df</code>.</li>
</ul>
<p>The examples below use an export URL with read_csv to create a data frame which is then passed to ggplot.</p>
<blockquote>
<p><strong>NOTE:</strong> In the code chunks, please forgive the long API URLs that neither scroll nor wrap. This is a persistent <a href="https://stackoverflow.com/questions/33481271/how-to-wrap-code-and-the-output-in-markdown-rmd">issue</a> for which I found no clear resolution shy of breaking up the URL which is obviously undesirable. The cleanest method I envisioned to make the URL available is to put it in a link. Request URL’s are supplied in a link to the right of the data frame.</p>
</blockquote>
<blockquote>
<p><strong>NOTE:</strong> In the code chunk below, please notice the use of double quotes in the <code>search_term</code> variable. In R, <a href="https://r4ds.had.co.nz/strings.html#string-basics">strings</a> are created under either single or double quotes, there is no difference. If the string contains <code>"</code> then in R it is generally recommended to use <code>'</code> for the outer quotes. I follow this convention. In doing this while working with the Explorer GUI, it is possible to copy the search directly from the box and place that whole term in single quotes.</p>
</blockquote>
<aside>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/include_graphics.html'>include_graphics</a></span><span class='op'>(</span><span class='st'>"https://i.imgur.com/DhhDMpL.png"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="https://i.imgur.com/DhhDMpL.png" /><!-- --></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/include_graphics.html'>include_graphics</a></span><span class='op'>(</span><span class='st'>"https://i.imgur.com/2JwtvdN.png"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="https://i.imgur.com/2JwtvdN.png" /><!-- --></p>
</div>
</aside>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># paste in the text from the GUI search box.</span>
<span class='co'># note that entire string should be contained in single quotes</span>
<span class='va'>search_term</span> <span class='op'>&lt;-</span> <span class='st'>'"critical race theory"'</span>

<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"https://api.gdeltproject.org/api/v2/tv/tv?format=csv&amp;timespan=FULL&amp;last24=yes&amp;dateres=DAY&amp;query=%22critical%20race%20theory%22%20(station:BLOOMBERG%20OR%20station:CNBC%20OR%20station:CNN%20OR%20station:CSPAN%20OR%20station:CSPAN2%20OR%20station:CSPAN3%20OR%20station:FBC%20OR%20station:FOXNEWS%20OR%20station:MSNBC%20)%20&amp;mode=timelinevol&amp;timezoom=yes"</span><span class='op'>)</span>  <span class='op'>%&gt;%</span> 
  <span class='fu'>rename</span><span class='op'>(</span>date <span class='op'>=</span> <span class='fl'>1</span>,
         network <span class='op'>=</span> <span class='fl'>2</span>,
         value <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>search <span class='op'>=</span> <span class='va'>search_term</span><span class='op'>)</span>
<span class='va'>df</span>
</code></pre>
</div>
<pre><code># A tibble: 41,148 x 4
   date       network   value search                    
   &lt;date&gt;     &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;                     
 1 2009-06-05 BLOOMBERG     0 &quot;\&quot;critical race theory\&quot;&quot;
 2 2009-06-06 BLOOMBERG     0 &quot;\&quot;critical race theory\&quot;&quot;
 3 2009-06-07 BLOOMBERG     0 &quot;\&quot;critical race theory\&quot;&quot;
 4 2009-06-08 BLOOMBERG     0 &quot;\&quot;critical race theory\&quot;&quot;
 5 2009-06-09 BLOOMBERG     0 &quot;\&quot;critical race theory\&quot;&quot;
 6 2009-06-10 BLOOMBERG     0 &quot;\&quot;critical race theory\&quot;&quot;
 7 2009-06-11 BLOOMBERG     0 &quot;\&quot;critical race theory\&quot;&quot;
 8 2009-06-12 BLOOMBERG     0 &quot;\&quot;critical race theory\&quot;&quot;
 9 2009-06-13 BLOOMBERG     0 &quot;\&quot;critical race theory\&quot;&quot;
10 2009-06-14 BLOOMBERG     0 &quot;\&quot;critical race theory\&quot;&quot;
# ... with 41,138 more rows</code></pre>
</div>
<aside>
<p>Copy <a href="https://api.gdeltproject.org/api/v2/tv/tv?format=csv&amp;timespan=FULL&amp;last24=yes&amp;dateres=DAY&amp;query=%22critical%20race%20theory%22%20(station:BLOOMBERG%20OR%20station:CNBC%20OR%20station:CNN%20OR%20station:CSPAN%20OR%20station:CSPAN2%20OR%20station:CSPAN3%20OR%20station:FBC%20OR%20station:FOXNEWS%20OR%20station:MSNBC%20)%20&amp;mode=timelinevol&amp;timezoom=yes">request URL</a>.</p>
</aside>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>df</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>date</span>, <span class='va'>value</span>, color<span class='op'>=</span><span class='va'>network</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"TV Volume Timeline:"</span>, <span class='va'>search_term</span><span class='op'>)</span>,
     subtitle <span class='op'>=</span> <span class='st'>"Coverage Volume Normalized Daily Resolution"</span>,
     caption <span class='op'>=</span> <span class='st'>"Data Source: https://api.gdeltproject.org/api/v2/summary/summary"</span>,
     color <span class='op'>=</span> <span class='st'>"Network"</span><span class='op'>)</span><span class='op'>+</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Date"</span><span class='op'>)</span><span class='op'>+</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"% Airtime (15sec Blocks)"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div class="figure"><span style="display:block;" id="fig:read-csv-simple-plot"></span>
<img src="gdelt-summary-explorer-api-calls-in-r_files/figure-html5/read-csv-simple-plot-1.png" alt="Sample output timeline of a simple search retrieved using `read_csv`." width="624" />
<p class="caption">
Figure 1: Sample output timeline of a simple search retrieved using <code>read_csv</code>.
</p>
</div>
</div>
<h3 data-number="2.1.6" id="complex-searches"><span class="header-section-number">2.1.6</span> Complex Searches</h3>
<p>Below is an example illustrating a complex multi-term search on Critical Race Theory looking only at contexts where “school,” “education,” “classroom,” and “school board” were not mentioned. One can see that the overall structure is similar to the prior figure but the amplitude of the highest peak is lower once some education related terms are used to constrain the search. This change in amplitude illustrates that a portion of the conversation around CRT is related to education.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># the /n is added for a carriage return in the figure.</span>
<span class='va'>search_term</span> <span class='op'>&lt;-</span> <span class='st'>'"critical race theory" -context:"school"\n -context:"education"-context:"classroom" -context:"school board"'</span>

<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"https://api.gdeltproject.org/api/v2/tv/tv?format=csv&amp;timespan=FULL&amp;last24=yes&amp;dateres=DAY&amp;query=%22critical%20race%20theory%22%20-context:%22school%22%20-context:%22education%22%20-context:%22classroom%22%20-context:%22school%20board%22%20(station:BLOOMBERG%20OR%20station:CNBC%20OR%20station:CNN%20OR%20station:CSPAN%20OR%20station:CSPAN2%20OR%20station:CSPAN3%20OR%20station:FBC%20OR%20station:FOXNEWS%20OR%20station:MSNBC%20)%20&amp;mode=timelinevol&amp;timezoom=yes"</span><span class='op'>)</span>  <span class='op'>%&gt;%</span> 
  <span class='fu'>rename</span><span class='op'>(</span>date <span class='op'>=</span> <span class='fl'>1</span>,
         network <span class='op'>=</span> <span class='fl'>2</span>,
         value <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>search <span class='op'>=</span> <span class='va'>search_term</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<aside>
<p>Copy <a href="https://api.gdeltproject.org/api/v2/tv/tv?format=csv&amp;timespan=FULL&amp;last24=yes&amp;dateres=DAY&amp;query=%22critical%20race%20theory%22%20-context:%22school%22%20-context:%22education%22%20-context:%22classroom%22%20-context:%22school%20board%22%20(station:BLOOMBERG%20OR%20station:CNBC%20OR%20station:CNN%20OR%20station:CSPAN%20OR%20station:CSPAN2%20OR%20station:CSPAN3%20OR%20station:FBC%20OR%20station:FOXNEWS%20OR%20station:MSNBC%20)%20&amp;mode=timelinevol&amp;timezoom=yes">request URL</a>.</p>
</aside>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>df</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>date</span>, <span class='va'>value</span>, color<span class='op'>=</span><span class='va'>network</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"TV Volume Timeline:"</span>, <span class='va'>search_term</span><span class='op'>)</span>,
     subtitle <span class='op'>=</span> <span class='st'>"Coverage Volume Normalized Daily Resolution"</span>,
     caption <span class='op'>=</span> <span class='st'>"Data Source: https://api.gdeltproject.org/api/v2/summary/summary"</span>,
     color <span class='op'>=</span> <span class='st'>"Network"</span><span class='op'>)</span><span class='op'>+</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Date"</span><span class='op'>)</span><span class='op'>+</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"% Airtime (15sec Blocks)"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div class="figure"><span style="display:block;" id="fig:read-csv-complex-plot"></span>
<img src="gdelt-summary-explorer-api-calls-in-r_files/figure-html5/read-csv-complex-plot-1.png" alt="Sample output timeline of a complex search retrieved using `read_csv`." width="624" />
<p class="caption">
Figure 2: Sample output timeline of a complex search retrieved using <code>read_csv</code>.
</p>
</div>
</div>
<h3 data-number="2.1.7" id="xxxxxxxxx-search-comparisons"><span class="header-section-number">2.1.7</span> XXXXXXXXX Search Comparisons</h3>
<p>If at Step 3 one selects “Comparison Visualization” it is possible to compare multiple search results. To serve as an example, it is possible to compare mentions of “Critical Race Theory” in comparison to a search regarding the combined mentions of “evolution,” “evolutionary theory,” or “natural selection.” What one finds is that at the peak of CRT coverage it was mentioned more frequently than all other terms combined.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># df &lt;- read_csv()  %&gt;% </span>
<span class='co'>#   rename(date = 1,</span>
<span class='co'>#          network = 2,</span>
<span class='co'>#          value = 3) %&gt;% </span>
<span class='co'>#   mutate(search = search_term)</span>
<span class='co'># </span>
<span class='co'># df</span>
</code></pre>
</div>
</details>
</div>
<style>
.respviz { height: 400px; }
@media screen and (min-width : 0px) and (max-width : 767px){ .respviz { height: 250px; } }
</style>
<iframe src="https://api.gdeltproject.org/api/v2/summary/summary?d=iatv&t=compare&format=csv&k1=%22critical+race+theory%22&fs1=station%3ABLOOMBERG&fs1=station%3ACNBC&fs1=station%3ACNN&fs1=station%3ACSPAN&fs1=station%3ACSPAN2&fs1=station%3ACSPAN3&fs1=station%3AFBC&fs1=station%3AFOXNEWS&fs1=station%3AMSNBC&k2=%28evolution+OR+evolutionary+OR+%22natural+selection%22+OR+genetic+OR+genetics+OR+genomics+OR+genome%29&fs2=station%3ABLOOMBERG&fs2=station%3ACNBC&fs2=station%3ACNN&fs2=station%3ACSPAN&fs2=station%3ACSPAN2&fs2=station%3ACSPAN3&fs2=station%3AFBC&fs2=station%3AFOXNEWS&fs2=station%3AMSNBC&fs3=station%3ACNN&fs3=station%3AFOXNEWS&fs3=station%3AMSNBC&fs4=station%3ACNN&fs4=station%3AFOXNEWS&fs4=station%3AMSNBC&fcs=comb&stm=yes&c=1&cvt=embed&ct=timelinemerge" scrolling="no" width=100% frameborder="0" class="respviz"></iframe>
<h1 data-number="3" id="api-request-with-newsflashquery_tv"><span class="header-section-number">3</span> API Request with <code>newsflash::query_tv</code></h1>
<p>The <code>query_tv</code> function of the <code>newsflash</code> library provides a quick and easy way to access the Television Archive data set. I would like to learn more about building wrappers of this kind. While I’m very impressed by <code>query_tv</code> there are some matters to be aware of.</p>
<p>The <code>query_tv</code> function returns monthly results for the full time range of the data set. This is suitable resolution for many purposes. However, if one wants daily, or finer, resolution data then another method of submitting requests is required because <code>query_tv</code> does not seem to have arguments for date resolution.</p>
<p>The <code>query_tv</code> only permits searching on a single term. This is equivalent to data displayed in and exportable from the Summary Overview Dashboard. Within <code>query_tv</code> I don’t see options for Comparison Visualization. If searches on a single query are all that is required <code>query_tv</code> may be appropriate, but it can’t handle query comparisons.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># search_term &lt;- params$search</span>
<span class='va'>search_term</span> <span class='op'>&lt;-</span> <span class='st'>'"critical race theory"'</span>

<span class='va'>starting_date</span> <span class='op'>&lt;-</span> <span class='cn'>NULL</span>

<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/newsflash/man/query_tv.html'>query_tv</a></span><span class='op'>(</span><span class='va'>search_term</span>,
               mode <span class='op'>=</span> <span class='st'>"TimelineVol"</span>,
               start_date <span class='op'>=</span> <span class='va'>starting_date</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>arrange</span><span class='op'>(</span><span class='va'>date</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='co'># filter(network %in% c("CNBC","CNN", "CSPAN", "FOX News", "MSNBC")) %&gt;% </span>
  <span class='fu'>mutate</span><span class='op'>(</span>network <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>network</span><span class='op'>)</span>,
         search <span class='op'>=</span> <span class='va'>search_term</span><span class='op'>)</span>
<span class='va'>df</span>
</code></pre>
</div>
<pre><code># A tibble: 1,350 x 4
   network      date                value search                    
   &lt;fct&gt;        &lt;dttm&gt;              &lt;dbl&gt; &lt;chr&gt;                     
 1 Bloomberg    2009-07-01 12:00:00     0 &quot;\&quot;critical race theory\&quot;&quot;
 2 CNBC         2009-07-01 12:00:00     0 &quot;\&quot;critical race theory\&quot;&quot;
 3 CNN          2009-07-01 12:00:00     0 &quot;\&quot;critical race theory\&quot;&quot;
 4 CSPAN        2009-07-01 12:00:00     0 &quot;\&quot;critical race theory\&quot;&quot;
 5 CSPAN2       2009-07-01 12:00:00     0 &quot;\&quot;critical race theory\&quot;&quot;
 6 CSPAN3       2009-07-01 12:00:00     0 &quot;\&quot;critical race theory\&quot;&quot;
 7 FOX Business 2009-07-01 12:00:00     0 &quot;\&quot;critical race theory\&quot;&quot;
 8 FOX News     2009-07-01 12:00:00     0 &quot;\&quot;critical race theory\&quot;&quot;
 9 MSNBC        2009-07-01 12:00:00     0 &quot;\&quot;critical race theory\&quot;&quot;
10 Bloomberg    2009-08-01 12:00:00     0 &quot;\&quot;critical race theory\&quot;&quot;
# ... with 1,340 more rows</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>df</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>date</span>, <span class='va'>value</span>, color<span class='op'>=</span><span class='va'>network</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"TV Volume Timeline:"</span>, <span class='va'>search_term</span><span class='op'>)</span>,
     subtitle <span class='op'>=</span> <span class='st'>"Coverage Volume Normalized Monthly Resolution"</span>,
     caption <span class='op'>=</span> <span class='st'>"Data Source: https://api.gdeltproject.org/api/v2/summary/summary"</span>,
     color <span class='op'>=</span> <span class='st'>"Network"</span><span class='op'>)</span><span class='op'>+</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Date"</span><span class='op'>)</span><span class='op'>+</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"% Airtime (15sec Blocks)"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div class="figure"><span style="display:block;" id="fig:query-tv-simple-plot"></span>
<img src="gdelt-summary-explorer-api-calls-in-r_files/figure-html5/query-tv-simple-plot-1.png" alt="Sample results generated from `query_tv`." width="624" />
<p class="caption">
Figure 3: Sample results generated from <code>query_tv</code>.
</p>
</div>
</div>
<p>In the GDELT interface, if one wants to submit a multi-word search using <code>AND</code> operators the user simply enters a space delimited list of words (see note above). This returns a search composed of a series of words joined by <code>AND</code> Boolean operators.</p>
<p>In R, when defining strings that need to contain quotation marks (<code>""</code>), which is the case with exact phrase searches of GDELT, it is important to use double quotes (i.e. <code>'""'</code>). Doing so will achieve the results of single quotes in the Explorer Search GUI. When working with <code>query_tv</code>, this very basic fact of R initially confused me and led to some unexpected results. I figured out the issue by generating some comparison graphs. In R, string variables must always be placed in quotes. Therefore, to get a string that contains quotes, one must use double quotes.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># search terms used to make following graph</span>
<span class='co'># note how the term is constructed noting the result</span>
<span class='va'>search_term1</span> <span class='op'>&lt;-</span> <span class='st'>'critical race theory'</span>
<span class='va'>search_term2</span> <span class='op'>&lt;-</span> <span class='st'>'"critical race theory"'</span>
<span class='va'>search_term3</span> <span class='op'>&lt;-</span> <span class='st'>'theory race critical'</span>
<span class='va'>search_term4</span> <span class='op'>&lt;-</span> <span class='st'>'"theory race critical"'</span>
<span class='va'>search_term5</span> <span class='op'>&lt;-</span> <span class='st'>'(critical OR race OR theory)'</span>
<span class='va'>search_term6</span> <span class='op'>&lt;-</span> <span class='st'>'"(critical OR race OR theory)"'</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>df1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/newsflash/man/query_tv.html'>query_tv</a></span><span class='op'>(</span><span class='va'>search_term1</span><span class='op'>)</span>
<span class='va'>df2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/newsflash/man/query_tv.html'>query_tv</a></span><span class='op'>(</span><span class='va'>search_term2</span><span class='op'>)</span>
<span class='va'>df3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/newsflash/man/query_tv.html'>query_tv</a></span><span class='op'>(</span><span class='va'>search_term3</span><span class='op'>)</span>
<span class='va'>df4</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/newsflash/man/query_tv.html'>query_tv</a></span><span class='op'>(</span><span class='va'>search_term4</span><span class='op'>)</span>
<span class='va'>df5</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/newsflash/man/query_tv.html'>query_tv</a></span><span class='op'>(</span><span class='va'>search_term5</span><span class='op'>)</span>
<span class='va'>df6</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/newsflash/man/query_tv.html'>query_tv</a></span><span class='op'>(</span><span class='va'>search_term6</span><span class='op'>)</span>

<span class='va'>p1</span> <span class='op'>&lt;-</span> <span class='va'>df1</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>date</span>, <span class='va'>value</span>, color<span class='op'>=</span><span class='va'>network</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='va'>search_term1</span>,
     color <span class='op'>=</span> <span class='st'>"Network"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Date"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"% Airtime (15sec Blocks)"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span>

<span class='va'>p2</span> <span class='op'>&lt;-</span> <span class='va'>df2</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>date</span>, <span class='va'>value</span>, color<span class='op'>=</span><span class='va'>network</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='va'>search_term2</span>,
     color <span class='op'>=</span> <span class='st'>"Network"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Date"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"% Airtime (15sec Blocks)"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span>

<span class='va'>p3</span> <span class='op'>&lt;-</span> <span class='va'>df3</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>date</span>, <span class='va'>value</span>, color<span class='op'>=</span><span class='va'>network</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='va'>search_term3</span>,
     color <span class='op'>=</span> <span class='st'>"Network"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Date"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"% Airtime (15sec Blocks)"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span>

<span class='va'>p4</span> <span class='op'>&lt;-</span> <span class='va'>df4</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>date</span>, <span class='va'>value</span>, color<span class='op'>=</span><span class='va'>network</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='va'>search_term4</span>,
     color <span class='op'>=</span> <span class='st'>"Network"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Date"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"% Airtime (15sec Blocks)"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span>

<span class='va'>p5</span> <span class='op'>&lt;-</span> <span class='va'>df5</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>date</span>, <span class='va'>value</span>, color<span class='op'>=</span><span class='va'>network</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='va'>search_term5</span>,
     color <span class='op'>=</span> <span class='st'>"Network"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Date"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"% Airtime (15sec Blocks)"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span>

<span class='va'>p6</span> <span class='op'>&lt;-</span> <span class='va'>df6</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>date</span>, <span class='va'>value</span>, color<span class='op'>=</span><span class='va'>network</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='va'>search_term6</span>,
     color <span class='op'>=</span> <span class='st'>"Network"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Date"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"% Airtime (15sec Blocks)"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span>

<span class='op'>(</span><span class='va'>p1</span><span class='op'>+</span><span class='va'>p2</span><span class='op'>)</span><span class='op'>/</span><span class='op'>(</span><span class='va'>p3</span><span class='op'>+</span><span class='va'>p4</span><span class='op'>)</span><span class='op'>/</span><span class='op'>(</span><span class='va'>p5</span><span class='op'>+</span><span class='va'>p6</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_layout.html'>plot_layout</a></span><span class='op'>(</span>guides <span class='op'>=</span> <span class='st'>"collect"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div class="figure"><span style="display:block;" id="fig:query-tv-comparison-plot"></span>
<img src="gdelt-summary-explorer-api-calls-in-r_files/figure-html5/query-tv-comparison-plot-1.png" alt="Plot comparing the output of different search terms." width="624" />
<p class="caption">
Figure 4: Plot comparing the output of different search terms.
</p>
</div>
</div>
<h1 data-number="4" id="api-requests-with-httr"><span class="header-section-number">4</span> API Requests with <code>httr</code></h1>
<p>When launching out to try to understand how to access API’s via R I quickly encountered pages that discussed <code>httr</code>. I believe it to be a very common way of accessing API’s via R, and thus worth some mention. Dataquest’s <a href="https://www.dataquest.io/blog/r-api-tutorial/">Tutorial</a> on “Getting Started with APIs in R” was a useful introduction that illustrated how to use the <code>httr</code> library to make API requests. This is how I started out before reasoning that I could simply use <code>read_csv</code>. There are two working <code>httr</code> examples below.</p>
<h2 data-number="4.1" id="basic-api-request"><span class="header-section-number">4.1</span> Basic API Request</h2>
<p>The example below illustrates how to make a simple API call; this is not to GDELT.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>res</span> <span class='op'>&lt;-</span>  <span class='fu'><a href='https://httr.r-lib.org/reference/GET.html'>GET</a></span><span class='op'>(</span><span class='st'>"http://api.open-notify.org/astros.json"</span><span class='op'>)</span>
<span class='va'>data</span> <span class='op'>&lt;-</span>  <span class='fu'><a href='https://rdrr.io/pkg/jsonlite/man/fromJSON.html'>fromJSON</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rawConversion.html'>rawToChar</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>$</span><span class='va'>content</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='va'>data</span><span class='op'>$</span><span class='va'>people</span>
</code></pre>
</div>
</div>
<h2 data-number="4.2" id="api-request-with-additional-parameters"><span class="header-section-number">4.2</span> API Request with additional parameters</h2>
<p>It is also possible to use <code>httr</code> to make API calls and define parameters. This could hold some interesting promise for working with GDELT.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://httr.r-lib.org/reference/GET.html'>GET</a></span><span class='op'>(</span><span class='st'>"http://api.open-notify.org/iss-pass.json"</span>, 
           query <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
             lat <span class='op'>=</span> <span class='fl'>40.7</span>, 
             lon <span class='op'>=</span> <span class='op'>-</span><span class='fl'>74</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>data</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/jsonlite/man/fromJSON.html'>fromJSON</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rawConversion.html'>rawToChar</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>$</span><span class='va'>content</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='va'>data</span><span class='op'>$</span><span class='va'>response</span>
</code></pre>
</div>
</div>
<h2 data-number="4.3" id="request-to-gdelt-using-httr-table-embedded-in-json"><span class="header-section-number">4.3</span> Request to GDELT using <code>httr</code>: table embedded in JSON</h2>
<p>Using the <code>GET()</code> method it was possible to issue a request to GEDELT 2.0 TV and receive JSON data. If <code>format</code> is set to <code>csv</code> it will return CSV data but not in a format I am not familiar with. It appears to be CSV data but in the RStudio Environment it lists the object as “Large response.” I’m not sure how to actually access the data.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://httr.r-lib.org/reference/GET.html'>GET</a></span><span class='op'>(</span><span class='st'>"https://api.gdeltproject.org/api/v2/tv/tv?format=csv&amp;timespan=FULL&amp;last24=yes&amp;dateres=DAY&amp;query=%22critical%20race%20theory%22%20(station:BLOOMBERG%20OR%20station:CNBC%20OR%20station:CNN%20OR%20station:CSPAN%20OR%20station:CSPAN2%20OR%20station:CSPAN3%20OR%20station:FBC%20OR%20station:FOXNEWS%20OR%20station:MSNBC%20)%20&amp;mode=timelinevol&amp;timezoom=yes"</span><span class='op'>)</span>
<span class='va'>res</span>
</code></pre>
</div>
<pre><code>Response [https://api.gdeltproject.org/api/v2/tv/tv?format=csv&amp;timespan=FULL&amp;last24=yes&amp;dateres=DAY&amp;query=%22critical%20race%20theory%22%20(station:BLOOMBERG%20OR%20station:CNBC%20OR%20station:CNN%20OR%20station:CSPAN%20OR%20station:CSPAN2%20OR%20station:CSPAN3%20OR%20station:FBC%20OR%20station:FOXNEWS%20OR%20station:MSNBC%20)%20&amp;mode=timelinevol&amp;timezoom=yes]
  Date: 2021-12-10 23:29
  Status: 200
  Content-Type: text/csv; charset=utf-8
  Size: 802 kB
&lt;U+FEFF&gt;Date (Daily +00:00: 06/05/2009 - 12/10/2021),Series,Value
2009-06-05,BLOOMBERG,0
2009-06-06,BLOOMBERG,0
2009-06-07,BLOOMBERG,0
2009-06-08,BLOOMBERG,0
2009-06-09,BLOOMBERG,0
2009-06-10,BLOOMBERG,0
2009-06-11,BLOOMBERG,0
2009-06-12,BLOOMBERG,0
2009-06-13,BLOOMBERG,0
...</code></pre>
</div>
<aside>
<p>Copy <a href="https://api.gdeltproject.org/api/v2/tv/tv?format=csv&amp;timespan=FULL&amp;last24=yes&amp;dateres=DAY&amp;query=%22critical%20race%20theory%22%20(station:BLOOMBERG%20OR%20station:CNBC%20OR%20station:CNN%20OR%20station:CSPAN%20OR%20station:CSPAN2%20OR%20station:CSPAN3%20OR%20station:FBC%20OR%20station:FOXNEWS%20OR%20station:MSNBC%20)%20&amp;mode=timelinevol&amp;timezoom=yes">request URL</a>.</p>
</aside>
<p>If the request URL is set to <code>format=json</code> the data are returned but in a nested structure. The data of interest are broken into components and buried in a nested list. Assembling the desired table from this result would probably require <code>pluck</code> and <code>bind_rows</code>. The first item in the list is a list of the station names. The second item in the list is another list consisting of individual data frames for each of the stations.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://httr.r-lib.org/reference/GET.html'>GET</a></span><span class='op'>(</span><span class='st'>"https://api.gdeltproject.org/api/v2/tv/tv?format=json&amp;timespan=FULL&amp;last24=yes&amp;dateres=DAY&amp;query=%22critical%20race%20theory%22%20(station:BLOOMBERG%20OR%20station:CNBC%20OR%20station:CNN%20OR%20station:CSPAN%20OR%20station:CSPAN2%20OR%20station:CSPAN3%20OR%20station:FBC%20OR%20station:FOXNEWS%20OR%20station:MSNBC%20)%20&amp;mode=timelinevol&amp;timezoom=yes"</span><span class='op'>)</span>

<span class='va'>data</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/jsonlite/man/fromJSON.html'>fromJSON</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rawConversion.html'>rawToChar</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>$</span><span class='va'>content</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>df_list</span> <span class='op'>&lt;-</span> <span class='va'>data</span><span class='op'>$</span><span class='va'>timeline</span>
<span class='va'>df_list</span> <span class='op'>%&gt;%</span> <span class='fu'>pluck</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;Bloomberg&quot;    &quot;CNBC&quot;         &quot;CNN&quot;          &quot;CSPAN&quot;       
[5] &quot;CSPAN2&quot;       &quot;CSPAN3&quot;       &quot;FOX Business&quot; &quot;FOX News&quot;    
[9] &quot;MSNBC&quot;       </code></pre>
</div>
<aside>
<p>Copy <a href="https://api.gdeltproject.org/api/v2/tv/tv?format=json&amp;timespan=FULL&amp;last24=yes&amp;dateres=DAY&amp;query=%22critical%20race%20theory%22%20(station:BLOOMBERG%20OR%20station:CNBC%20OR%20station:CNN%20OR%20station:CSPAN%20OR%20station:CSPAN2%20OR%20station:CSPAN3%20OR%20station:FBC%20OR%20station:FOXNEWS%20OR%20station:MSNBC%20)%20&amp;mode=timelinevol&amp;timezoom=yes">request URL</a>.</p>
</aside>
<p>Given that when the API parameters are set to <code>format=csv</code> it will return a CSV file it makes more sense to pass the request directly to <code>read_csv</code>. It would be good in principle to know how to reassemble the desired table from the JSON data, but in this context it seems unnecessary.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-anderson2006a" class="csl-entry" role="doc-biblioentry">
Anderson, Benedict R. O’G. 2006. <em>Imagined Communities: Reflections on the Origin and Spread of Nationalism</em>. Rev. ed. London ; New York: Verso.
</div>
<div id="ref-cohen2011" class="csl-entry" role="doc-biblioentry">
Cohen, Stanley. 2011a. <em>Folk Devils and Moral Panics: The Creation of the Mods and Rockers</em>. Routledge Classics. Abingdon, Oxon ; New York: Routledge.
</div>
<div id="ref-cohen2011a" class="csl-entry" role="doc-biblioentry">
———. 2011b. <span>“Moral Panics as Cultural Politics: Introduction to the Third Edition.”</span> In, 3rd ed., vi–xliv. Routledge Classics. Abingdon, Oxon ; New York: Routledge.
</div>
<div id="ref-moralpa2013" class="csl-entry" role="doc-biblioentry">
Critcher, C., Jason Hughes, Julian Petley, and Amanda Rohloff, eds. 2013. <em>Moral Panics in the Contemporary World</em>. New York: Bloomsbury.
</div>
<div id="ref-goode2009" class="csl-entry" role="doc-biblioentry">
Goode, Erich, and Nachman Ben-Yehuda. 2009. <em>Moral Panics: The Social Construction of Deviance</em>. 2nd ed. Chichester, U.K. ; Malden, MA: Wiley-Blackwell.
</div>
<div id="ref-leetaru2011" class="csl-entry" role="doc-biblioentry">
Leetaru, Kalev. 2011. <span>“Culturomics 2.0: Forecasting Large-Scale Human Behavior Using Global News Media Tone in Time and Space.”</span> <em>First Monday</em> 16 (9). https://doi.org/<a href="https://doi.org/10.5210/fm.v16i9.3663">https://doi.org/10.5210/fm.v16i9.3663</a>.
</div>
<div id="ref-leetaru2021a" class="csl-entry" role="doc-biblioentry">
———. 2021a. <span>“How Has Television News Covered Critical Race Theory?”</span> <a href="https://www.realclearpolitics.com/video/2021/06/10/how_has_television_news_covered_critical_race_theory.html">https://www.realclearpolitics.com/video/2021/06/10/how_has_television_news_covered_critical_race_theory.html</a>.
</div>
<div id="ref-leetaru2021" class="csl-entry" role="doc-biblioentry">
———. 2021b. <span>“How Is Critical Race Theory Being Covered on Television News?”</span> <a href="https://www.realclearpolitics.com/video/2021/11/10/how_is_critical_race_theory_being_covered_on_television_news.html">https://www.realclearpolitics.com/video/2021/11/10/how_is_critical_race_theory_being_covered_on_television_news.html</a>.
</div>
<div id="ref-michel2011" class="csl-entry" role="doc-biblioentry">
Michel, Jean-Baptiste, Yuan Kui Shen, Aviva Presser Aiden, Adrian Veres, Matthew K. Gray, The Google Books Team, Joseph P. Pickett, et al. 2011. <span>“Quantitative Analysis of Culture Using Millions of Digitized Books.”</span> <em>Science</em> 331 (6014): 176–82. <a href="https://doi.org/10.1126/science.1199644">https://doi.org/10.1126/science.1199644</a>.
</div>
<div id="ref-moretti2013" class="csl-entry" role="doc-biblioentry">
Moretti, Franco. 2013. <em>Distant Reading</em>. London ; New York: Verso.
</div>
<div id="ref-schulz2011" class="csl-entry" role="doc-biblioentry">
Schulz, Kathryn. 2011. <span>“What Is Distant Reading?”</span> <em>The New York Times</em>, June. <a href="https://www.nytimes.com/2011/06/26/books/review/the-mechanic-muse-what-is-distant-reading.html">https://www.nytimes.com/2011/06/26/books/review/the-mechanic-muse-what-is-distant-reading.html</a>.
</div>
<div id="ref-implemen2014" class="csl-entry" role="doc-biblioentry">
Stodden, Victoria, Friedrich Leisch, and Roger D. Peng, eds. 2014. <em>Implementing Reproducible Research</em>. The r Series. Boca Raton: CRC Press, Taylor &amp; Francis Group.
</div>
</div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
<h3 id="references">References</h3>
<div id="references-listing"></div>
<h3 id="updates-and-corrections">Corrections</h3>
<p>If you see mistakes or want to suggest changes, please <a href="https://github.com/n8craig/ncraig/issues/new">create an issue</a> on the source repository.</p>
<h3 id="reuse">Reuse</h3>
<p>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a>. Source code is available at <a href="https://github.com/n8craig/ncraig">https://github.com/n8craig/ncraig</a>, unless otherwise noted. The figures that have been reused from other sources don't fall under this license and can be recognized by a note in their caption: "Figure from ...".</p>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
